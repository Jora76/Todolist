@page "/"

@rendermode InteractiveServer

<PageTitle>Home</PageTitle>

<div id="home-body">
    <div class="header">
        <h1>TODOLIST</h1>
    </div>
    
    <div class="body">
        <div class="add-todo-btn" @onclick="ToggleAddTodos">
            <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-plus-square-fill" viewBox="0 0 16 16">
                <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm6.5 4.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3a.5.5 0 0 1 1 0"/>
            </svg>
        </div>
        <div class="todolist-container">
            @foreach (var todos in Todolist)
            {
                <TodoComponent Todos="@todos" IsInit="true" />
            }
            @if (AddTodos)  //TODO: Modifier logique de génération des todolistes
            {
                Todolist.Add(new List<Todo>());
                <TodoComponent Todos="new List<Todo>()" IsInit="false" />
            }
        </div>
    </div>
    
    <div class="footer">
        <p>Joris BORGES</p>
    </div>
</div>

@code {

    private List<List<Todo>> Todolist = new List<List<Todo>>(){};

    private bool AddTodos { get; set; }

    private void ToggleAddTodos()
    {
        AddTodos = !AddTodos;
    }
}